!function(t,e,n,a){"use strict";function i(e,n){this.element=e,this.settings=t.extend({},d,n),this._defaults=d,this._name=s,this.init()}var s="simpleCalendar",d={months:["january","february","march","april","may","june","july","august","september","october","november","december"],days:["sunday","monday","tuesday","wenesday","thursday","friday","saturday"],fixedStartDay:!0};t.extend(i.prototype,{init:function(){var e=t(this.element),n=new Date,a=t('<div class="calendar"></div>'),i=t('<div class="event-container"></div>');this.buildCalendar(n,a),a.append(i),e.append(a),this.bindEvents()},buildCalendar:function(e,n){for(var a=t('<header><h2 class="month">'+this.settings.months[e.getMonth()]+'</h2><a class="btn btn-prev" href="#"><</a><a class="btn btn-next" href="#">></a></header>'),i=t("<table></table>"),s=t("<thead></thead>"),d=t("<tbody></tbody>"),r=1;r<=this.settings.days.length;r++)s.append(t("<td>"+this.settings.days[r%7].substring(0,3)+"</td>"));for(var o=e.getFullYear(),c=e.getMonth(),l=new Date(o,c,1);1!=l.getDay();)l.setDate(l.getDate()-1);for(var h=new Date(o,c+1,0);0!=h.getDay();)h.setDate(h.getDate()+1);for(var f=l;h>=f;f.setDate(f.getDate())){for(var p=t("<tr></tr>"),r=0;7>r;r++){var u=t('<td><a href="#" class="day">'+f.getDate()+"</a></td>");f.getDate()==e.getDate()&&u.find(".day").addClass("today"),f.getMonth()!=e.getMonth()&&u.find(".day").addClass("wrong-month"),p.append(u),f.setDate(f.getDate()+1)}d.append(p)}i.append(s),i.append(d),n.append(a),n.append(i)},bindEvents:function(){var e=this;t(".btn-prev").click(function(){console.log("click prev")}),t(".btn-next").click(function(){console.log("click next")}),t(".day").click(function(n){e.fillUp(t(e.element),n.pageX,n.pageY)}),t(".event-container").click(function(n){e.empty(t(e.element),n.pageX,n.pageY)})},fillUp:function(e,n,a){var i=e.offset(),s=t('<div class="filler" style=""></div>');s.css("left",n-i.left),s.css("top",a-i.top),t(".calendar").append(s),s.animate({width:"300%",height:"300%"},500,function(){t(".event-container").show(),s.hide()})},empty:function(e,n,a){var i=(e.offset(),t(".filler"));i.css("width","300%"),i.css("height","300%"),i.show(),t(".event-container").hide(),i.animate({width:"0%",height:"0%"},500,function(){i.remove()})}}),t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new i(this,e))})}}(jQuery,window,document);